✅ 第1页：封面
标题：领域驱动设计（Domain-Driven Design）
副标题：应对复杂业务系统的建模利器
说明：本演示文稿将介绍领域驱动设计的核心理念、建模原则、通用语言、上下文划分、以及实践方法。适用于中大型系统架构设计人员与后端开发者。

✅ 第2页：什么是领域驱动设计（DDD）
DDD 是一种以业务为中心的软件建模思想。与传统面向技术的架构不同，DDD 倾向从业务逻辑、语义和结构出发构建系统。它特别适用于具有复杂业务规则和演化性的系统场景，如金融、电商、票务系统等。

关键词：模型驱动、通用语言、高内聚低耦合、限界上下文。

✅ 第3页：什么是领域？
一个完整的领域可以拆解为三部分：

用户（涉众域）：如游客、运营人员、销售人员等。

问题域：如价格计算、库存扣减、售卖时机等复杂业务需求。

解决方案域：通过建模构建系统解决方案，如产品组合、优惠模型、订单流程。

案例：在一个度假景点系统中，解决如何组合产品（景点票 + 酒店）、如何控制售卖时间和库存、如何使用积分或会员折扣。

✅ 第4页：贫血模型 vs 充血模型
贫血模型：只包含数据属性，无业务行为，易于理解但可维护性差，逻辑分散。

充血模型：将数据与行为封装在同一个类中，符合面向对象设计原则，更适合构建复杂业务逻辑。

建议：复杂业务场景优先采用“充血模型”来增强模型表达能力与封装性。

📷 插图提示：B6DEFC9C...052FB.png

✅ 第5页：为什么选择 DDD？
对于业务简单的系统，贫血模型可能已经足够。

但当系统涉及多规则、多角色、多流程（如利息计算、还款计划、会员规则等）时，必须借助领域建模来理清逻辑边界。

DDD 通过构建高内聚、低耦合的模型与上下文，帮助系统具备更强的可演化性与复用能力。

✅ 第6页：什么是通用语言（Ubiquitous Language）
通用语言是一种团队统一使用的语言，贯穿分析、建模、实现全过程。

来源于业务专家和技术人员在事件风暴等方式中达成的共识。

要求代码命名、设计文档、讨论语境都使用一致语言，以确保对业务意图的统一理解。

📷 插图提示：KFC 套餐购买流程图 SyMzFxB1wDKW...Axk0z.png

✅ 第7页：战略建模 - 多角色视角用例分析
用户角色：

浏览商品、修改购物车、选择优惠券、下单支付。

运营角色：

配置商品/优惠助理/库存、发布优惠券、上架产品。

系统角色：

更新库存、筛选可售卖商品、展示最低价格、结算。

📷 插图提示：4KmgnQobOxfx0...Ansz.png

✅ 第8页：事件建模与视图映射
Domain Events：如“产品售罄”“订单支付成功”等。

Commands：例如“添加购物车”“下单”。

Aggregates：如“订单”、“产品”、“优惠券”。

Views：如“可用商品”“购物车列表”“优惠券列表”。

📷 插图提示：fxytKXf5s9Gs...guu8z.png

✅ 第9页：三种领域类型
核心域（Core Domain）：组织成功的关键，应分配最多资源。

支撑域（Supporting Domain）：用于支撑核心域，可适度定制。

通用域（Generic Domain）：无差异性、可用三方库实现，如登录、鉴权等。

✅ 第10页：限界上下文（Bounded Context）
每个上下文中有独立模型、服务和规则。

有利于模块解耦、职责清晰。

通过上下文映射定义它们之间的交互关系，如：

合作关系

共享内核

客户-供应者开发

防腐层（ACL）

📷 插图提示：sVVSR0vctKql...Moz.png

✅ 第11页：康威定律与团队结构
“系统的结构最终会趋向于开发组织的沟通结构。”

建议：团队边界 ≈ 限界上下文边界。

好处：

拆分明确

沟通顺畅

可独立部署与迭代

检验限界上下文的 3 原则：

正交性

单一抽象层次（SLAP）

奥卡姆剃刀原则（如无必要，勿增实体）

✅ 第12页：战术建模（实体、值对象、聚合）
实体（Entity）：具唯一标识，如订单ID。

值对象（Value Object）：无ID，仅属性组合，如价格、颜色。

聚合（Aggregate）：实体+值对象组合的边界，作为数据修改与持久化的最小单位。

✅ 第13页：DDD 分层架构
用户接口层：与外界交互

应用层：编排流程，协调服务

领域层：业务核心逻辑（重点）

基础设施层：技术细节如数据库、RPC等

📷 插图提示：HxuVJ9PqLuZxt...O0z.png

✅ 第14页：领域服务与演进
当新业务引入（如更复杂的库存系统），可以通过引入新的领域服务适配变化。

保持聚合根稳定，让服务具备演进能力。

服务也可向下沉淀或合并，减少重复组合逻辑。

📷 插图提示：DGIB8kHRSdHV...iu0z 和 n4AvWm5dkCJP...arEsz

✅ 第15页：总结与建议
DDD 强调“以业务建模型，以模型驱系统”。

通过战略建模与战术建模，有效应对复杂业务需求。

实践 DDD 需要团队协作、事件风暴、统一语言以及良好建模工具的配合。

推荐从“识别限界上下文”和“构建通用语言”开始落地实践。